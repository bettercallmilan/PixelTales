<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2D Jankovic Milan</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            font-family: 'Arial', sans-serif;
        }

        #game-container {
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            position: relative;
            background-color: #90EE90;
        }

        #world {
            width: 3000px;  /* Large world size */
            height: 2000px;
            position: absolute;
            transform: translate(0, 0);
            transition: transform 0.1s ease;
            background-image: url('assets/background.png'); /* You'll add this */
            background-size: cover;
            image-rendering: pixelated;
        }

        #player {
            width: 96px;  /* Increased character size */
            height: 96px;
            position: absolute;
            transform: translate(-50%, -50%);
            z-index: 10;
        }

        /* Placeholder for character sprites - you'll replace these with actual images */
        .player-sprite {
            width: 100%;
            height: 100%;
            background-size: contain;
            background-repeat: no-repeat;
            position: absolute;
            display: none;
            image-rendering: pixelated;
        }

        .player-up { background-image: url('assets/idle_up.gif'); }
        .player-down { background-image: url('assets/idle_fw.gif'); }
        .player-left { background-image: url('assets/idle_l.gif'); }
        .player-right { background-image: url('assets/idle_r.gif'); }
        
        /* Walking animations */
        .walking .player-up { background-image: url('assets/run_up.gif'); }
        .walking .player-down { background-image: url('assets/run_fw.gif'); }
        .walking .player-left { background-image: url('assets/run_l.gif'); }
        .walking .player-right { background-image: url('assets/run_r.gif'); }

        .interactive-zone {
            width: 96px;
            height: 96px;
            position: absolute;
            transform: translate(-50%, -50%);
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .interactive-zone:hover {
            transform: translate(-50%, -50%) scale(1.1);
        }

        .zone-icon {
            width: 100%;
            height: 100%;
            background-size: contain;
            background-repeat: no-repeat;
            image-rendering: pixelated;
            /* You'll replace these with your custom sign images */
            background-image: url('assets/sign.png');
        }

        .interaction-bubble {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.9);
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            min-width: 200px;
            max-width: 400px;
            display: none;
            z-index: 100;
            animation: popIn 0.2s ease;
        }

        @keyframes popIn {
            0% { transform: scale(0); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        .interaction-bubble h3 {
            margin: 0 0 10px 0;
            color: #333;
        }

        .interaction-bubble p {
            margin: 0;
            color: #666;
        }

        /* Walking animation classes */
        .walking {
            animation: bounce 0.4s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translate(-50%, -50%); }
            50% { transform: translate(-50%, -55%); }
        }

        /* Environment decorations */
        .decoration {
            position: absolute;
            width: 64px;
            height: 64px;
            background-size: contain;
            background-repeat: no-repeat;
            pointer-events: none;
            image-rendering: pixelated;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <div id="world">
            <div id="player">
                <div class="player-sprite player-up"></div>
                <div class="player-sprite player-down"></div>
                <div class="player-sprite player-left"></div>
                <div class="player-sprite player-right"></div>
            </div>
        </div>
    </div>

    <script>
        const world = document.getElementById('world');
        const player = document.getElementById('player');
        const container = document.getElementById('game-container');
        const sprites = {
            up: player.querySelector('.player-up'),
            down: player.querySelector('.player-down'),
            left: player.querySelector('.player-left'),
            right: player.querySelector('.player-right')
        };
        
// Game state
const state = {
            player: {
                x: 1500,  // Start in middle of world
                y: 1000,
                speed: 5,
                direction: 'down',
                isMoving: false
            },
            camera: {
                x: 0,
                y: 0
            },
            worldBounds: {
                width: 3000,
                height: 2000
            }
        };

        // Interactive zones data
        const zones = [
            { 
                x: 800, y: 600, 
                title: "Instagram", 
                content: "Click to visit my Instagram!",
                url: "https://instagram.com/your-username",
                icon: 'assets/sign.png'
            },
            { 
                x: 1500, y: 800, 
                title: "GitHub", 
                content: "Check out my code repositories!",
                url: "https://github.com/your-username",
                icon: 'assets/sign.png'
            },
            { 
                x: 2200, y: 1200, 
                title: "Projects", 
                content: "View my portfolio of projects!",
                url: "https://your-portfolio-url.com",
                icon: 'assets/sign.png'
            },
            { 
                x: 1800, y: 1500, 
                title: "Email", 
                content: "Send me an email!",
                url: "mailto:your-email@example.com",
                icon: 'assets/sign.png'
            },
            { 
                x: 1200, y: 1000, 
                title: "Random Cat", 
                content: "Click for a random cat picture!",
                url: "https://cataas.com/cat",
                icon: 'assets/sign.png'
            }
        ];

        // Create interactive zones
        zones.forEach((zone, index) => {
            const zoneElement = document.createElement('div');
            zoneElement.className = 'interactive-zone';
            zoneElement.style.left = zone.x + 'px';
            zoneElement.style.top = zone.y + 'px';

            const icon = document.createElement('div');
            icon.className = 'zone-icon';
            if (zone.icon) {
                icon.style.backgroundImage = `url('${zone.icon}')`;
            }
            zoneElement.appendChild(icon);

            const bubble = document.createElement('div');
            bubble.className = 'interaction-bubble';
            bubble.innerHTML = `
                <h3>${zone.title}</h3>
                <p>${zone.content}</p>
                <div class="bubble-click-hint">Click to open!</div>
            `;
            bubble.style.left = '50%';
            bubble.style.top = '-80px';
            zoneElement.appendChild(bubble);

            // Add click handler
            zoneElement.addEventListener('click', () => {
                if (zone.title === "Random Cat") {
                    // Create a new window/tab with a random cat
                    window.open('https://cataas.com/cat?' + new Date().getTime(), '_blank');
                } else if (zone.url) {
                    window.open(zone.url, '_blank');
                }
            });

            world.appendChild(zoneElement);
        });

        // Add random decorative elements
        for (let i = 0; i < 50; i++) {
            const decoration = document.createElement('div');
            decoration.className = 'decoration';
            decoration.style.left = Math.random() * state.worldBounds.width + 'px';
            decoration.style.top = Math.random() * state.worldBounds.height + 'px';
            world.appendChild(decoration);
        }

        // Movement handling
        const keys = {
            w: false,
            a: false,
            s: false,
            d: false,
            ArrowUp: false,
            ArrowLeft: false,
            ArrowDown: false,
            ArrowRight: false
        };

        window.addEventListener('keydown', (e) => {
            if (keys.hasOwnProperty(e.key)) {
                keys[e.key] = true;
                state.player.isMoving = true;
            }
        });

        window.addEventListener('keyup', (e) => {
            if (keys.hasOwnProperty(e.key)) {
                keys[e.key] = false;
                // Check if any movement keys are still pressed
                state.player.isMoving = Object.values(keys).some(key => key);
            }
        });

        // Update player sprite based on direction
        function updateSprite() {
            Object.values(sprites).forEach(sprite => sprite.style.display = 'none');
            sprites[state.player.direction].style.display = 'block';
            
            // Add/remove walking animation
            if (state.player.isMoving) {
                player.classList.add('walking');
            } else {
                player.classList.remove('walking');
            }
        }

        // Camera following
        function updateCamera() {
            const viewportWidth = container.clientWidth;
            const viewportHeight = container.clientHeight;
            
            // Calculate camera position (center on player)
            state.camera.x = state.player.x - viewportWidth / 2;
            state.camera.y = state.player.y - viewportHeight / 2;

            // Clamp camera to world bounds
            state.camera.x = Math.max(0, Math.min(state.camera.x, state.worldBounds.width - viewportWidth));
            state.camera.y = Math.max(0, Math.min(state.camera.y, state.worldBounds.height - viewportHeight));

            // Apply camera transform
            world.style.transform = `translate(${-state.camera.x}px, ${-state.camera.y}px)`;
        }

        // Smooth movement system
        function updateMovement() {
            let dx = 0;
            let dy = 0;

            if (keys.w || keys.ArrowUp) dy -= state.player.speed;
            if (keys.s || keys.ArrowDown) dy += state.player.speed;
            if (keys.a || keys.ArrowLeft) dx -= state.player.speed;
            if (keys.d || keys.ArrowRight) dx += state.player.speed;

            // Normalize diagonal movement
            if (dx !== 0 && dy !== 0) {
                dx *= 0.707; // 1/√2
                dy *= 0.707;
            }

            // Update position
            state.player.x = Math.max(0, Math.min(state.player.x + dx, state.worldBounds.width));
            state.player.y = Math.max(0, Math.min(state.player.y + dy, state.worldBounds.height));

            // Update direction
            if (dx > 0) state.player.direction = 'right';
            else if (dx < 0) state.player.direction = 'left';
            else if (dy < 0) state.player.direction = 'up';
            else if (dy > 0) state.player.direction = 'down';

            // Update player position
            player.style.left = state.player.x + 'px';
            player.style.top = state.player.y + 'px';
        }

        // Interaction system
        function updateInteractions() {
            const zones = document.querySelectorAll('.interactive-zone');
            zones.forEach(zone => {
                const rect = zone.getBoundingClientRect();
                const bubble = zone.querySelector('.interaction-bubble');
                const dx = state.player.x - (parseInt(zone.style.left) || 0);
                const dy = state.player.y - (parseInt(zone.style.top) || 0);
                const distance = Math.sqrt(dx * dx + dy * dy);

                if (distance < 150) {
                    bubble.style.display = 'block';
                } else {
                    bubble.style.display = 'none';
                }
            });
        }

        // Game loop
        function gameLoop() {
            updateMovement();
            updateSprite();
            updateCamera();
            updateInteractions();
            requestAnimationFrame(gameLoop);
        }

        // Start the game
        gameLoop();

        // Handle window resize
        window.addEventListener('resize', updateCamera);
    </script>
</body>
</html>